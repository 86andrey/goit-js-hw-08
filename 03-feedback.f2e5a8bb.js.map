{"version":3,"sources":["js/03-feedback.js"],"names":["email","document","querySelector","message","form","onFieldsInput","createObjForm","value","localStorage","setItem","JSON","stringify","onFormSubmit","event","preventDefault","currentTarget","reset","console","log","parse","getItem","removeItem","populateTextarea","savedMessage","savedDataForm","addEventListener"],"mappings":";AACA,MAAMA,EAAQC,SAASC,cAAc,wBAC/BC,EAAUF,SAASC,cAAc,2BACjCE,EAAOH,SAASC,cAAc,kBAOpC,SAASG,IACDC,MAAAA,EAAgB,CACpBN,MAAOA,EAAMO,MACbJ,QAASA,EAAQI,OAEnBC,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUL,IAG7D,SAASM,EAAaC,GACpBA,EAAMC,iBACND,EAAME,cAAcC,QACpBC,QAAQC,IAAIR,KAAKS,MAAMX,aAAaY,QAAQ,yBAC5CZ,aAAaa,WAAW,uBAG1B,SAASC,IACDC,MAAAA,EAAef,aAAaY,QAAQ,uBACtCG,GAAAA,EAAc,CACVC,MAAAA,EAAgBd,KAAKS,MAAMI,GACjCvB,EAAMO,MAAQiB,EAAcxB,MAC5BG,EAAQI,MAAQiB,EAAcrB,SA1BlCmB,IAGAlB,EAAKqB,iBAAiB,QAASpB,GAC/BD,EAAKqB,iBAAiB,SAAUb","file":"03-feedback.f2e5a8bb.js","sourceRoot":"../src","sourcesContent":["// import throttle from 'lodash.throttle';\nconst email = document.querySelector('.feedback-form input');\nconst message = document.querySelector('.feedback-form textarea');\nconst form = document.querySelector('.feedback-form');\npopulateTextarea();\n\n// form.addEventListener('input', throttle(onFieldsInput, 500)); - это не работает почему-то\nform.addEventListener('input', onFieldsInput);\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFieldsInput() {\n  const createObjForm = {\n    email: email.value,\n    message: message.value,\n  };\n  localStorage.setItem('feedback-form-state', JSON.stringify(createObjForm));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  event.currentTarget.reset();\n  console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n  localStorage.removeItem('feedback-form-state');\n}\n\nfunction populateTextarea() {\n  const savedMessage = localStorage.getItem('feedback-form-state');\n  if (savedMessage) {\n    const savedDataForm = JSON.parse(savedMessage);\n    email.value = savedDataForm.email;\n    message.value = savedDataForm.message;\n  }\n}\n"]}